@use "sass:color";

// Dark theme variables (aligned with Login styles)
$primary-bg: #0d1117;
$card-bg: #242836;
$textfield-bg: #1A1D2E;
$button-blue: #3B82F6;
$title-color: #FFFFFF;
$subtitle-color: #C3C3C3;
$textfield-text: #8D8D8D;
$radius-sm: 8px;
$radius-md: 12px;
$shadow-soft: 0 8px 24px rgba(2,6,23,0.5);

.app-container-forgot {
  background-color: $primary-bg;
  flex: 1 1 auto;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "Poppins", sans-serif;
  color: $title-color;
  min-height: 100vh;
  box-sizing: border-box;
  overflow-x: hidden;

  *:focus-visible { outline: 3px solid rgba(59,130,246,0.12); outline-offset: 2px; }
}

.main-content-forgot { 
  justify-content:center; 
  align-items:center; 
  width:100%;
  max-width:520px; 
  position: relative;
  background: $card-bg;
  border-radius: $radius-md;
  padding: 2.5rem; /* slightly taller */
  width: 100%;
  text-align: center; /* center header and help text */
  box-shadow: $shadow-soft;
  min-height: 460px; /* increase box height for better spacing */

  .icon { width:48px; height:48px; display:block; margin:0 auto 8px; }
  .card-header-icon { width:72px; height:72px; border-radius:50%; display:flex; align-items:center; justify-content:center; margin: -36px auto 12px; box-shadow:0 8px 24px rgba(11,20,40,0.45); background:$button-blue; z-index:30; }
  .card-header-image { width:20px; height:20px; display:block; object-fit:cover; }
  h2 { color: $title-color; margin:0 0 6px 0; font-size:1.05rem; text-align:center }
  p { color: $subtitle-color; margin:0 0 14px 0; text-align:center }

  /* keep form inputs left-aligned within a centered card */
  .form { 
    text-align: left; 
    margin: 0; 
    max-width: none; 
    width: 100%; 
    box-sizing: border-box;
  }
  /* Field styles to host an icon inside the input (match Login form visuals) */
  .field { display: block; margin-bottom: 6px; }
  .field-inner { position: relative; display: block; width: 100%; }
  .field-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; display: inline-flex; align-items: center; justify-content: center; pointer-events: none; }
  .field-icon img { display: block; width: 16px; height: 16px; }
  /* Make input leave space for the icon */
  .form .input { padding-left: 44px; }
  
  /* Back link positioned inside the card (keeps it inside .main-content-forgot) */
  .back-arrow-forgot {
    position: absolute;
    top: 16px; /* inside the card, slightly inset */
    left: 16px;
    transform: none;
    color: $subtitle-color; /* use subtitle color for 'Volver' */
    background: transparent;
    padding: 4px 8px;
    border-radius: 6px;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 0.95rem;
    box-shadow: none;
    z-index: 80;
    transition: background 120ms ease, opacity 120ms ease;
    text-decoration: none; /* remove underline */
  }
  .back-arrow-forgot:hover { background: rgba(255,255,255,0.04); opacity: 0.95; }
  /* small tweak so the header icon doesn't overlap the back link visually */
  .card-header-icon { margin: -28px auto 14px; }
}
.back-arrow-img { width: 20px; height: 20px; display: inline-block; }
.back-arrow-symbol { font-size: 0.95rem; line-height: 1; display: none; }
.back-arrow-text { display: inline-block; color: $subtitle-color; }


/* On small screens keep the back link at top-left so it doesn't overlap */
@media (max-width: 480px) {
  .back-arrow-forgot {
    position: fixed; /* detach from card so it won't shift as the card grows */
    top: 12px;
    left: 12px;
    transform: none;
    border-radius: 999px;
    z-index: 1000;
    padding: 8px; /* slightly larger touch area */
    gap: 0; /* hide gap when text is hidden */
    background: rgba(2,6,23,0.6);
  }
  /* hide the text label on small screens to keep the control compact */
  .back-arrow-forgot .back-arrow-text { display: none; }
  .back-arrow-forgot .back-arrow-symbol { font-size: 1.05rem; }
  /* ensure header icon doesn't visually collide with the fixed control */
  .card-header-icon { margin-top: -12px; }
}

.form { display:flex; flex-direction:column; gap:0.6rem; 
  label { display:block; width:100%; color:$title-color; font-weight:700; }
  .input { display:block; width:100%; padding:0.72rem 0.9rem; background:$textfield-bg; color:$title-color; border-radius:$radius-sm; border:1px solid rgba(255,255,255,0.03); box-sizing:border-box; }
  .button { margin-top:0.6rem; background:$button-blue; color:$title-color; border:none; border-radius:$radius-sm; padding:0.85rem 1rem; font-weight:600; cursor:pointer; width:100%; }
}

.error-message { color: #f87171; }

.to-login-link-forgot {
  color: $button-blue;
  font-weight: 600;
  text-decoration: none;
}
.to-login-link-forgot:hover { text-decoration: underline; }

.to-register-link { color: $button-blue; font-weight: 600; text-decoration: none; }
.to-register-link:hover { text-decoration: underline; }

/* Bottom redirect labels: full width, centered, and spaced */
.register-redirect-forgot,
.login-redirect-forgot {
  display: block;
  width: 100%;
  margin-top: 12px;
  color: $subtitle-color;
  text-align: center;
  font-size: 0.95rem;
}

/* Add a little bottom padding to main card so final links never touch card edge */
.main-content-forgot { padding-bottom: 20px; }
/* Responsive tweaks */
@media (max-width:768px) {
  .forgot-box { padding:1.5rem; }
}
